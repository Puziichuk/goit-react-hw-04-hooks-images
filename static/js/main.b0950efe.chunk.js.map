{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ErrorView/ErrorView.module.css","components/Container/Container.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","services/apiService.js","components/Container/Container.js","components/Searchbar/Searchbar.js","components/Modal/Modal.js","components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/ErrorView/ErrorView.js","App.js","index.js"],"names":["module","exports","apiService","query","page","a","axios","get","data","hits","Container","children","className","s","container","Searchbar","onHandleSubmit","useState","setQuery","header","form","onSubmit","e","preventDefault","trim","toast","info","type","btn","label","input","value","autoComplete","autoFocus","placeholder","onChange","target","modalRoot","document","querySelector","Modal","handleKeyDown","code","props","onToggleModal","handleBackdropClick","currentTarget","window","addEventListener","this","removeEventListener","largeImageURL","createPortal","backdrop","onClick","modal","src","alt","Component","Button","onLoadMore","ImageGalleryItem","webformatURL","tags","onOpenModal","item","image","ImageGallery","images","ul","map","id","LoaderComponent","overlay","color","height","width","timeout","ErrorView","texterror","role","wrapper","text","App","setImages","setLargeImageURL","setPage","error","setError","isLoading","setIsLoading","showModal","setShowModal","useEffect","request","length","prevImages","fetchImages","toggleModal","scrollPage","setTimeout","scrollBy","top","documentElement","clientHeight","behavior","newSearch","dataset","source","Loader","prevPage","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b0950efe.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__3FAPo\",\"modal\":\"Modal_modal__P3_V5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__2ey0n\",\"image\":\"ImageGalleryItem_image__2xsbt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ErrorView_wrapper__21hvW\",\"text\":\"ErrorView_text__2DYol\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3RIox\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__3xaJM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Loader_overlay__eMvxB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Searchbar_header__34uEY\",\"form\":\"Searchbar_form__XuKjc\",\"btn\":\"Searchbar_btn__37Gab\",\"label\":\"Searchbar_label__1BV3w\",\"input\":\"Searchbar_input__2C4aO\"};","import axios from \"axios\";\n\nconst apiService = async (query, page) => {\n  const { data } = await axios.get(\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=21551993-ac0c953930521d8ec489a1c57&image_type=photo&orientation=horizontal&per_page=12`\n  );\n  return data.hits;\n};\n\nexport default apiService;\n","import PropTypes from \"prop-types\";\nimport s from \"./Container.module.css\";\n\nfunction Container({ children }) {\n  return <div className={s.container}>{children}</div>;\n}\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Container;\n","import PropTypes from \"prop-types\";\nimport { useState } from 'react';\nimport \"react-toastify/dist/ReactToastify.css\";\nimport s from \"./Searchbar.module.css\";\nimport { toast } from \"react-toastify\";\n\nfunction Searchbar({ onHandleSubmit }) {\n  const [query, setQuery] = useState('');\n\n  const onSubmit = e => {\n    e.preventDefault();\n    if (query.trim() === '') {\n      return toast.info('ðŸ˜± Please enter a value for search images!');\n    }\n    onHandleSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <header className={s.header}>\n      <form className={s.form} onSubmit={onSubmit}>\n        <button type=\"submit\" className={s.btn}>\n          <span className={s.label}>Search</span>\n        </button>\n\n        <input\n          className={s.input}\n          type=\"text\"\n          value={query}\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={({ target }) => setQuery(target.value)}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onHandleSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onToggleModal();\n    }\n  };\n\n  handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onToggleModal();\n    }\n  };\n\n  render() {\n    const { largeImageURL } = this.props;\n\n    return createPortal(\n      <div className={s.backdrop} onClick={this.handleBackdropClick}>\n        <div className={s.modal}>\n          <img src={largeImageURL} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nModal.propTypes = {\n  onToggleModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nfunction Button({ onLoadMore }) {\n  return (\n    <button type=\"button\" className={s.btn} onClick={onLoadMore}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nfunction ImageGalleryItem({ webformatURL, largeImageURL, tags, onOpenModal }) {\n  return (\n    <li className={s.item}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        data-source={largeImageURL}\n        className={s.image}\n        onClick={onOpenModal}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport s from \"./ImageGallery.mudule.css\";\n\nfunction ImageGallery({ images, onOpenModal }) {\n  return (\n    <ul className={s.ul}>\n      {images.map(({ id, webformatURL, largeImageURL, tags }) => (\n        <ImageGalleryItem\n          key={id}\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          tags={tags}\n          onOpenModal={onOpenModal}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport s from \"./Loader.module.css\";\n\nfunction LoaderComponent() {\n  return (\n    <div className={s.overlay}>\n      <Loader\n        type=\"ThreeDots\"\n        color=\"blue\"\n        height={100}\n        width={100}\n        timeout={0}\n      />\n    </div>\n  );\n}\n\nexport default LoaderComponent;\n","import PropTypes from \"prop-types\";\nimport s from \"./ErrorView.module.css\";\n\nfunction ErrorView({ texterror }) {\n  return (\n    <div role=\"alert\" className={s.wrapper}>\n      <p text={texterror} className={s.text}>\n        {texterror}\n      </p>\n    </div>\n  );\n}\n\nErrorView.propTypes = {\n  texterror: PropTypes.string.isRequired,\n};\n\nexport default ErrorView;\n","import {  useState, useEffect } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport apiService from \"./services/apiService\";\nimport Container from \"./components/Container/Container\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport Modal from \"./components/Modal/Modal\";\nimport Button from \"./components/Button/Button\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Loader from \"./components/Loader/Loader\";\nimport ErrorView from \"./components/ErrorView/ErrorView\";\n\nfunction App() {\n  const [query, setQuery] = useState('');\n  const [images, setImages] = useState([]);\n  const [largeImageURL, setLargeImageURL] = useState('');\n  const [page, setPage] = useState(1);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    if (!query) return;\n    const fetchImages = async () => {\n      try {\n        const request = await apiService(query, page);\n        if (request.length === 0) {\n          return setError(`No results were found for ${query}!`);\n        }\n        setImages(prevImages => [...prevImages, ...request]);\n      } catch (error) {\n        setError('Something went wrong. Try again.');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchImages();\n  }, [page, query]);\n\n  const searchImages = newSearch => {\n    setQuery(newSearch);\n    setImages([]);\n    setPage(1);\n    setError(null);\n    setIsLoading(true);\n  };\n\n  const onLoadMore = () => {\n    setIsLoading(true);\n    setPage(prevPage => prevPage + 1);\n    scrollPage();\n  };\n\n   const onOpenModal = e => {\n     setLargeImageURL(e.target.dataset.source);\n    toggleModal();\n  };\n\n\n\n  const toggleModal = () => {\n     setShowModal(!showModal);\n  };\n\n  const scrollPage = () => {\n    setTimeout(() => {\n      window.scrollBy({\n        top: document.documentElement.clientHeight - 160,\n        behavior: \"smooth\",\n      });\n    }, 1000);\n  };\n\n  \n    return (\n      <Container>\n        <Searchbar onHandleSubmit={searchImages}/>\n\n        {images.length > 0 && !error && (\n          <ImageGallery images={images} onOpenModal={onOpenModal} />\n        )}\n        {error && <ErrorView texterror={error} />}\n\n        {isLoading && <Loader />}\n\n        {!isLoading && images.length >= 12 && !error && (\n          <Button onLoadMore={onLoadMore} />\n        )}\n\n        {showModal && (\n          <Modal onToggleModal={toggleModal} largeImageURL={largeImageURL}/>\n        )}\n        <ToastContainer autoClose={5000} />\n      </Container >\n        \n    )\n        }\n\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}